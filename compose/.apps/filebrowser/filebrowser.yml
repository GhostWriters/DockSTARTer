services:
  ${_appname_}:
    container_name: ${${_APPNAME_}_CONTAINER_NAME}
    environment:
      - FB_BASEURL=${${_APPNAME_}_ENVIRONMENT_BASEURL}
      - FB_DATABASE=${${_APPNAME_}_ENVIRONMENT_DATABASE}
      - FB_LOG=${${_APPNAME_}_ENVIRONMENT_LOG}
      - TZ=${TZ}
    healthcheck:
      test:
        - CMD-SHELL
        - curl -fs http://localhost:${${_APPNAME_}_PORT_80}/health || exit 1
    restart: ${${_APPNAME_}_RESTART}
    user: ${PUID}:${PGID}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_VOLUME_CONFIG}/${_appname_}:/config
      - ${DOCKER_VOLUME_STORAGE}:/storage
      - ${${_APPNAME_}_VOLUME_SHARE_DIR}:/srv
