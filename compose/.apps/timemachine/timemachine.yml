services:
  <appname>:
    container_name: ${<APPNAME>_CONTAINER_NAME}
    environment:
      - CUSTOM_SMB_CONF=${<APPNAME>_ENVIRONMENT_CUSTOM_SMB_CONF}
      - CUSTOM_USER=${<APPNAME>_ENVIRONMENT_CUSTOM_USER}
      - DEBUG_LEVEL=${<APPNAME>_ENVIRONMENT_DEBUG_LEVEL}
      - EXTERNAL_CONF=${<APPNAME>_ENVIRONMENT_EXTERNAL_CONF}
      - HIDE_SHARES=${<APPNAME>_ENVIRONMENT_HIDE_SHARES}
      - MIMIC_MODEL=${<APPNAME>_ENVIRONMENT_MIMIC_MODEL}
      - PASSWORD=${<APPNAME>_ENVIRONMENT_PASSWORD}
      - PGID=${PGID}
      - PUID=${PUID}
      - SET_PERMISSIONS=${<APPNAME>_ENVIRONMENT_SET_PERMISSIONS}
      - SHARE_NAME=${<APPNAME>_ENVIRONMENT_SHARE_NAME}
      - SMB_INHERIT_PERMISSIONS=${<APPNAME>_ENVIRONMENT_SMB_INHERIT_PERMISSIONS}
      - SMB_METADATA=${<APPNAME>_ENVIRONMENT_SMB_METADATA}
      - SMB_NFS_ACES=${<APPNAME>_ENVIRONMENT_SMB_NFS_ACES}
      - SMB_PORT=${<APPNAME>_ENVIRONMENT_SMB_PORT}
      - SMB_VFS_OBJECTS=${<APPNAME>_ENVIRONMENT_SMB_VFS_OBJECTS}
      - TM_GROUPNAME=${<APPNAME>_ENVIRONMENT_TM_GROUPNAME}
      - TM_USERNAME=${<APPNAME>_ENVIRONMENT_TM_USERNAME}
      - TZ=${TZ}
      - VOLUME_SIZE_LIMIT=${<APPNAME>_ENVIRONMENT_VOL_SIZE_LIMIT}
      - WORKGROUP=${<APPNAME>_ENVIRONMENT_WORKGROUP}
    restart: ${<APPNAME>_RESTART}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_VOLUME_CONFIG}/<appname>/var-lib-samba:/var/lib/samba
      - ${DOCKER_VOLUME_CONFIG}/<appname>/var-cache-samba:/var/cache/samba
      - ${DOCKER_VOLUME_CONFIG}/<appname>/run-samba:/run/samba
      - ${DOCKER_VOLUME_STORAGE}:/storage
      - ${<APPNAME>_VOLUME_DATADIR}:/opt/timemachine
