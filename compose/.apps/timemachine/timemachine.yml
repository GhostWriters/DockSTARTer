services:
  ${_appname_}:
    container_name: ${${_APPNAME_}_CONTAINER_NAME}
    environment:
      - CUSTOM_SMB_CONF=${${_APPNAME_}_ENVIRONMENT_CUSTOM_SMB_CONF}
      - CUSTOM_USER=${${_APPNAME_}_ENVIRONMENT_CUSTOM_USER}
      - DEBUG_LEVEL=${${_APPNAME_}_ENVIRONMENT_DEBUG_LEVEL}
      - EXTERNAL_CONF=${${_APPNAME_}_ENVIRONMENT_EXTERNAL_CONF}
      - HIDE_SHARES=${${_APPNAME_}_ENVIRONMENT_HIDE_SHARES}
      - MIMIC_MODEL=${${_APPNAME_}_ENVIRONMENT_MIMIC_MODEL}
      - PASSWORD=${${_APPNAME_}_ENVIRONMENT_PASSWORD}
      - PGID=${PGID}
      - PUID=${PUID}
      - SET_PERMISSIONS=${${_APPNAME_}_ENVIRONMENT_SET_PERMISSIONS}
      - SHARE_NAME=${${_APPNAME_}_ENVIRONMENT_SHARE_NAME}
      - SMB_INHERIT_PERMISSIONS=${${_APPNAME_}_ENVIRONMENT_SMB_INHERIT_PERMISSIONS}
      - SMB_METADATA=${${_APPNAME_}_ENVIRONMENT_SMB_METADATA}
      - SMB_NFS_ACES=${${_APPNAME_}_ENVIRONMENT_SMB_NFS_ACES}
      - SMB_PORT=${${_APPNAME_}_ENVIRONMENT_SMB_PORT}
      - SMB_VFS_OBJECTS=${${_APPNAME_}_ENVIRONMENT_SMB_VFS_OBJECTS}
      - TM_GROUPNAME=${${_APPNAME_}_ENVIRONMENT_TM_GROUPNAME}
      - TM_USERNAME=${${_APPNAME_}_ENVIRONMENT_TM_USERNAME}
      - TZ=${TZ}
      - VOLUME_SIZE_LIMIT=${${_APPNAME_}_ENVIRONMENT_VOL_SIZE_LIMIT}
      - WORKGROUP=${${_APPNAME_}_ENVIRONMENT_WORKGROUP}
    restart: ${${_APPNAME_}_RESTART}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_VOLUME_CONFIG}/${_appname_}/var-lib-samba:/var/lib/samba
      - ${DOCKER_VOLUME_CONFIG}/${_appname_}/var-cache-samba:/var/cache/samba
      - ${DOCKER_VOLUME_CONFIG}/${_appname_}/run-samba:/run/samba
      - ${DOCKER_VOLUME_STORAGE}:/storage
      - ${${_APPNAME_}_VOLUME_DATADIR}:/opt/timemachine
