services:
  gluetun:
    cap_add:
      - NET_ADMIN
    container_name: ${GLUETUN_CONTAINER_NAME}
    devices:
      - /dev/net/tun
    environment:
      - FIREWALL_DEBUG=${GLUETUN_ENVIRONMENT_FIREWALL_DEBUG}
      - FIREWALL_INPUT_PORTS=${GLUETUN_ENVIRONMENT_FIREWALL_INPUT_PORTS}
      - FIREWALL_OUTBOUND_SUBNETS=${GLUETUN_ENVIRONMENT_FIREWALL_OUTBOUND_SUBNETS}
      - FIREWALL_VPN_INPUT_PORTS=${GLUETUN_ENVIRONMENT_FIREWALL_VPN_INPUT_PORTS}
      - FREE_ONLY=${GLUETUN_ENVIRONMENT_FREE_ONLY}
      - HTTPPROXY=${GLUETUN_ENVIRONMENT_HTTPPROXY}
      - HTTPPROXY_LOG=${GLUETUN_ENVIRONMENT_HTTPPROXY_LOG}
      - HTTPPROXY_PASSWORD=${GLUETUN_ENVIRONMENT_HTTPPROXY_PASSWORD}
      - HTTPPROXY_STEALTH=${GLUETUN_ENVIRONMENT_HTTPPROXY_STEALTH}
      - HTTPPROXY_USER=${GLUETUN_ENVIRONMENT_HTTPPROXY_USER}
      - HTTP_CONTROL_SERVER_LOG=${GLUETUN_ENVIRONMENT_HTTP_CONTROL_SERVER_LOG}
      - ISP=${GLUETUN_ENVIRONMENT_ISP}
      - OPENVPN_CUSTOM_CONFIG=${GLUETUN_ENVIRONMENT_OPENVPN_CUSTOM_CONFIG}
      - OPENVPN_PASSWORD=${GLUETUN_ENVIRONMENT_OPENVPN_PASSWORD}
      - OPENVPN_USER=${GLUETUN_ENVIRONMENT_OPENVPN_USER}
      - OWNED_ONLY=${GLUETUN_ENVIRONMENT_OWNED_ONLY}
      - PREMIUM_ONLY=${GLUETUN_ENVIRONMENT_PREMIUM_ONLY}
      - PRIVATE_INTERNET_ACCESS_OPENVPN_ENCRYPTION_PRESET=${GLUETUN_ENVIRONMENT_PRIVATE_INTERNET_ACCESS_OPENVPN_ENCRYPTION_PRESET}
      - PUBLICIP_FILE=${GLUETUN_ENVIRONMENT_PUBLICIP_FILE}
      - PUBLICIP_PERIOD=${GLUETUN_ENVIRONMENT_PUBLICIP_PERIOD}
      - SERVER_CITIES=${GLUETUN_ENVIRONMENT_SERVER_CITIES}
      - SERVER_COUNTRIES=${GLUETUN_ENVIRONMENT_SERVER_COUNTRIES}
      - SERVER_HOSTNAMES=${GLUETUN_ENVIRONMENT_SERVER_HOSTNAMES}
      - SERVER_NAMES=${GLUETUN_ENVIRONMENT_SERVER_NAMES}
      - SERVER_REGIONS=${GLUETUN_ENVIRONMENT_SERVER_REGIONS}
      - SHADOWSOCKS=${GLUETUN_ENVIRONMENT_SHADOWSOCKS}
      - SHADOWSOCKS_CIPHER=${GLUETUN_ENVIRONMENT_SHADOWSOCKS_CIPHER}
      - SHADOWSOCKS_LOG=${GLUETUN_ENVIRONMENT_SHADOWSOCKS_LOG}
      - SHADOWSOCKS_PASSWORD=${GLUETUN_ENVIRONMENT_SHADOWSOCKS_PASSWORD}
      - TZ=${TZ}
      - UPDATER_MIN_RATIO=${GLUETUN_ENVIRONMENT_UPDATER_MIN_RATIO}
      - UPDATER_PERIOD=${GLUETUN_ENVIRONMENT_UPDATER_PERIOD}
      - UPDATER_VPN_SERVICE_PROVIDERS=${GLUETUN_ENVIRONMENT_UPDATER_VPN_SERVICE_PROVIDERS}
      - VERSION_INFORMATION=${GLUETUN_ENVIRONMENT_VERSION_INFORMATION}
      - VPN_ENDPOINT_IP=${GLUETUN_ENVIRONMENT_VPN_ENDPOINT_IP}
      - VPN_ENDPOINT_PORT=${GLUETUN_ENVIRONMENT_VPN_ENDPOINT_PORT}
      - VPN_INTERFACE=${GLUETUN_ENVIRONMENT_VPN_INTERFACE}
      - VPN_PORT_FORWARDING=${GLUETUN_ENVIRONMENT_VPN_PORT_FORWARDING}
      - VPN_PORT_FORWARDING_STATUS_FILE=${GLUETUN_ENVIRONMENT_VPN_PORT_FORWARDING_STATUS_FILE}
      - VPN_SERVICE_PROVIDER=${GLUETUN_ENVIRONMENT_VPN_SERVICE_PROVIDER}
      - VPN_TYPE=${GLUETUN_ENVIRONMENT_VPN_TYPE}
      - WIREGUARD_ADDRESSES=${GLUETUN_ENVIRONMENT_WIREGUARD_ADDRESSES}
      - WIREGUARD_ALLOWED_IPS=${GLUETUN_ENVIRONMENT_WIREGUARD_ALLOWED_IPS}
      - WIREGUARD_IMPLEMENTATION=${GLUETUN_ENVIRONMENT_WIREGUARD_IMPLEMENTATION}
      - WIREGUARD_MTU=${GLUETUN_ENVIRONMENT_WIREGUARD_MTU}
      - WIREGUARD_PRESHARED_KEY=${GLUETUN_ENVIRONMENT_WIREGUARD_PRESHARED_KEY}
      - WIREGUARD_PRIVATE_KEY=${GLUETUN_ENVIRONMENT_WIREGUARD_PRIVATE_KEY}
      - WIREGUARD_PUBLIC_KEY=${GLUETUN_ENVIRONMENT_WIREGUARD_PUBLIC_KEY}
    restart: ${GLUETUN_RESTART}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_VOLUME_CONFIG}/gluetun:/gluetun
      - ${DOCKER_VOLUME_STORAGE}:/storage
