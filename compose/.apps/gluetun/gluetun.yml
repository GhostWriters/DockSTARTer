services:
  <appname>:
    cap_add:
      - NET_ADMIN
    container_name: ${<APPNAME>_CONTAINER_NAME}
    devices:
      - /dev/net/tun
    environment:
      - FIREWALL_DEBUG=${<APPNAME>_ENVIRONMENT_FIREWALL_DEBUG}
      - FIREWALL_INPUT_PORTS=${<APPNAME>_ENVIRONMENT_FIREWALL_INPUT_PORTS}
      - FIREWALL_OUTBOUND_SUBNETS=${<APPNAME>_ENVIRONMENT_FIREWALL_OUTBOUND_SUBNETS}
      - FIREWALL_VPN_INPUT_PORTS=${<APPNAME>_ENVIRONMENT_FIREWALL_VPN_INPUT_PORTS}
      - FREE_ONLY=${<APPNAME>_ENVIRONMENT_FREE_ONLY}
      - HTTPPROXY=${<APPNAME>_ENVIRONMENT_HTTPPROXY}
      - HTTPPROXY_LOG=${<APPNAME>_ENVIRONMENT_HTTPPROXY_LOG}
      - HTTPPROXY_PASSWORD=${<APPNAME>_ENVIRONMENT_HTTPPROXY_PASSWORD}
      - HTTPPROXY_STEALTH=${<APPNAME>_ENVIRONMENT_HTTPPROXY_STEALTH}
      - HTTPPROXY_USER=${<APPNAME>_ENVIRONMENT_HTTPPROXY_USER}
      - HTTP_CONTROL_SERVER_LOG=${<APPNAME>_ENVIRONMENT_HTTP_CONTROL_SERVER_LOG}
      - ISP=${<APPNAME>_ENVIRONMENT_ISP}
      - OPENVPN_CUSTOM_CONFIG=${<APPNAME>_ENVIRONMENT_OPENVPN_CUSTOM_CONFIG}
      - OPENVPN_PASSWORD=${<APPNAME>_ENVIRONMENT_OPENVPN_PASSWORD}
      - OPENVPN_USER=${<APPNAME>_ENVIRONMENT_OPENVPN_USER}
      - OWNED_ONLY=${<APPNAME>_ENVIRONMENT_OWNED_ONLY}
      - PREMIUM_ONLY=${<APPNAME>_ENVIRONMENT_PREMIUM_ONLY}
      - PRIVATE_INTERNET_ACCESS_OPENVPN_ENCRYPTION_PRESET=${<APPNAME>_ENVIRONMENT_PRIVATE_INTERNET_ACCESS_OPENVPN_ENCRYPTION_PRESET}
      - PUBLICIP_FILE=${<APPNAME>_ENVIRONMENT_PUBLICIP_FILE}
      - PUBLICIP_PERIOD=${<APPNAME>_ENVIRONMENT_PUBLICIP_PERIOD}
      - SERVER_CITIES=${<APPNAME>_ENVIRONMENT_SERVER_CITIES}
      - SERVER_COUNTRIES=${<APPNAME>_ENVIRONMENT_SERVER_COUNTRIES}
      - SERVER_HOSTNAMES=${<APPNAME>_ENVIRONMENT_SERVER_HOSTNAMES}
      - SERVER_NAMES=${<APPNAME>_ENVIRONMENT_SERVER_NAMES}
      - SERVER_REGIONS=${<APPNAME>_ENVIRONMENT_SERVER_REGIONS}
      - SHADOWSOCKS=${<APPNAME>_ENVIRONMENT_SHADOWSOCKS}
      - SHADOWSOCKS_CIPHER=${<APPNAME>_ENVIRONMENT_SHADOWSOCKS_CIPHER}
      - SHADOWSOCKS_LOG=${<APPNAME>_ENVIRONMENT_SHADOWSOCKS_LOG}
      - SHADOWSOCKS_PASSWORD=${<APPNAME>_ENVIRONMENT_SHADOWSOCKS_PASSWORD}
      - TZ=${TZ}
      - UPDATER_MIN_RATIO=${<APPNAME>_ENVIRONMENT_UPDATER_MIN_RATIO}
      - UPDATER_PERIOD=${<APPNAME>_ENVIRONMENT_UPDATER_PERIOD}
      - UPDATER_VPN_SERVICE_PROVIDERS=${<APPNAME>_ENVIRONMENT_UPDATER_VPN_SERVICE_PROVIDERS}
      - VERSION_INFORMATION=${<APPNAME>_ENVIRONMENT_VERSION_INFORMATION}
      - VPN_ENDPOINT_IP=${<APPNAME>_ENVIRONMENT_VPN_ENDPOINT_IP}
      - VPN_ENDPOINT_PORT=${<APPNAME>_ENVIRONMENT_VPN_ENDPOINT_PORT}
      - VPN_INTERFACE=${<APPNAME>_ENVIRONMENT_VPN_INTERFACE}
      - VPN_PORT_FORWARDING=${<APPNAME>_ENVIRONMENT_VPN_PORT_FORWARDING}
      - VPN_PORT_FORWARDING_STATUS_FILE=${<APPNAME>_ENVIRONMENT_VPN_PORT_FORWARDING_STATUS_FILE}
      - VPN_SERVICE_PROVIDER=${<APPNAME>_ENVIRONMENT_VPN_SERVICE_PROVIDER}
      - VPN_TYPE=${<APPNAME>_ENVIRONMENT_VPN_TYPE}
      - WIREGUARD_ADDRESSES=${<APPNAME>_ENVIRONMENT_WIREGUARD_ADDRESSES}
      - WIREGUARD_ALLOWED_IPS=${<APPNAME>_ENVIRONMENT_WIREGUARD_ALLOWED_IPS}
      - WIREGUARD_IMPLEMENTATION=${<APPNAME>_ENVIRONMENT_WIREGUARD_IMPLEMENTATION}
      - WIREGUARD_MTU=${<APPNAME>_ENVIRONMENT_WIREGUARD_MTU}
      - WIREGUARD_PRESHARED_KEY=${<APPNAME>_ENVIRONMENT_WIREGUARD_PRESHARED_KEY}
      - WIREGUARD_PRIVATE_KEY=${<APPNAME>_ENVIRONMENT_WIREGUARD_PRIVATE_KEY}
      - WIREGUARD_PUBLIC_KEY=${<APPNAME>_ENVIRONMENT_WIREGUARD_PUBLIC_KEY}
    restart: ${<APPNAME>_RESTART}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_VOLUME_CONFIG}/<appname>:/gluetun
      - ${DOCKER_VOLUME_STORAGE}:/storage
