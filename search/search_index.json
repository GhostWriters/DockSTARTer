{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>The main goal of DockSTARTer is to make it quick and easy to get up and running with Docker.</p> <p>You may choose to rely on DockSTARTer for various changes to your Docker system or use DockSTARTer as a stepping stone and learn to do more advanced configurations.</p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#system-requirements","title":"System Requirements","text":"<ul> <li>You must be running a supported platform or an operating system based on a supported platform. Platforms named below will link to documentation listing compatible versions.</li> <li>You must be logged in as a non-root user with sudo permissions.</li> </ul>"},{"location":"#one-time-setup-required","title":"One Time Setup (required)","text":"<ul> <li>APK Systems (Alpine)</li> </ul> <pre><code>sudo apk add curl git\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <ul> <li>APT Systems (Debian, Ubuntu, etc)</li> </ul> <pre><code>sudo apt-get install curl git\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <p>Raspbian requires a few extra commands</p> <pre><code>sudo apt-get update\nsudo apt-get dist-upgrade\nsudo apt-get install curl git\nbash -c \"$(curl -fsSL https://get.docker.com)\"\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <p>OpenMediaVault (OMV) requires special instructions found here</p> <ul> <li>DNF Systems (Fedora)</li> </ul> <pre><code>sudo dnf install curl git\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <ul> <li>Pacman Systems (Arch, Manjaro, EndeavourOS, etc.)</li> </ul> <pre><code>sudo pacman -Sy curl docker git\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <ul> <li>YUM Systems (CentOS)</li> </ul> <pre><code>sudo yum install curl git\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <ul> <li>MacOS Systems (Homebrew)</li> </ul> <pre><code>brew update\nbrew upgrade --cask\nbrew upgrade\nbrew install --cask docker\nbrew install docker-compose\n</code></pre> <p>or</p> <pre><code>brew update\nbrew upgrade --cask\nbrew upgrade\nbrew install docker docker-compose\n</code></pre> <pre><code>brew install bash curl git grep gnu-sed\nbash -c \"$(curl -fsSL https://get.dockstarter.com)\"\nsudo reboot\n</code></pre> <p>Additional Steps for MacOS:   - Run Docker at start up:     - In docker desktop (Docker.app) open settings and ensure \"Start Docker Desktop when you sign in to your computer\" is enabled in the General heading. This step is required to to start docker automatically after a restart and allow DockSTARTer to communicate with the docker daemon.   - Approve Docker keychain permissions:     - At least once after installing DockSTARTer open the terminal.app from the MacOS desktop and run the DockSTARTer command <code>ds -c</code>. A keychain access dialog will pop up. Type your MacOS login password into the dialog and click on \"Always Allow\".</p> Alternate install (any system)  The standard install above downloads the initial script using a method with some known risks. For those concerned with the security of the above method, here is an alternative:  <pre><code>## NOTE: Run the appropriate command for your distro\nsudo apt-get install curl git\nsudo dnf install curl git\nsudo pacman -Sy curl git\nsudo yum install curl git\nbrew install bash curl git grep gnu-sed\n</code></pre>  Then  <pre><code>git clone https://github.com/GhostWriters/DockSTARTer \"/home/${USER}/.dockstarter\"\nbash /home/\"${USER}\"/.dockstarter/main.sh -vi\nsudo reboot\n</code></pre>"},{"location":"#running-dockstarter","title":"Running DockSTARTer","text":"<pre><code>ds\n</code></pre> <p>To run DockSTARTer, use the command above. You should now see the main menu from the screenshots. Select <code>Configuration</code> and then <code>Full Setup</code>, and you will be guided through selecting apps and starting containers.</p> <p>See our documentation for more detailed information.</p>"},{"location":"#support","title":"Support","text":"<p>Click the chat badge to join us on Discord for support!</p> <p>Feature Request | Bug Report</p> <p>Additional information can be found on our Support Page.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Want to help develop DockSTARTer? Check out our contributing guidelines and code of conduct.</p>"},{"location":"#contributors","title":"Contributors","text":"<p>This project exists thanks to all the people who contribute. </p>"},{"location":"#supporters","title":"Supporters","text":"<p>Support the project by donating on Open Collective.</p>"},{"location":"#backers","title":"Backers","text":"<p>Thank you to all our backers! Become a backer.</p> <p></p>"},{"location":"#sponsors","title":"Sponsors","text":"<p>Support this project by becoming a sponsor. Your logo will show up here with a link to your website. Become a sponsor.</p> <p> </p>"},{"location":"#special-thanks","title":"Special Thanks","text":"<ul> <li>SmartHomeBeginner.com for creating AtoMiC-ToolKit that served as this project's primary inspiration, and later this guide that provided some initial direction with Docker.</li> <li>LinuxServer.io for maintaining most Docker images used in this project.</li> </ul>"},{"location":"introduction/","title":"Introduction","text":""},{"location":"introduction/#what-dockstarter-is","title":"What DockSTARTer Is","text":"<ul> <li>DockSTARTer is a script that installs Docker and other dependencies for you.</li> <li>DockSTARTer comes with configurations to run various apps.</li> <li>DockSTARTer can be operated through a friendly GUI of terminal menus.</li> <li>DockSTARTer can be operated through commands for more advanced users who do not prefer the GUI.</li> <li>DockSTARTer is here to give you the freedom to choose what you want to run.</li> <li>DockSTARTer allows you to run apps that are not included using Overrides / Introduction.</li> </ul>"},{"location":"introduction/#what-dockstarter-is-not","title":"What DockSTARTer Is Not","text":"<ul> <li>DockSTARTer is not a pre-made set of apps that run an exact way (you get to choose what to run and how to run it).</li> <li>DockSTARTer does not configure apps for you (think of it more like installing apps as a service, settings inside the app are still up to you, although our documentation will have recommendations).</li> <li>DockSTARTer does not configure storage for you (you may use local storage, or cloud storage, multiple disks, raid, etc).</li> </ul>"},{"location":"introduction/#system-requirements","title":"System Requirements","text":""},{"location":"introduction/#supported-operating-systems","title":"Supported Operating Systems","text":"<p>You must be running a Supported Platform or an operating system based on a supported platform. Platforms named below will link to documentation listing compatible versions.</p> <ul> <li>CentOS</li> <li>Debian</li> <li>Fedora</li> <li>Ubuntu</li> </ul> <p>Any operating system based on one of the above (ex: Raspbian) should also work as long as you can install the officially supported script. DockSTARTer will attempt to perform this install for you if possible.</p>"},{"location":"introduction/#supported-hardware","title":"Supported Hardware","text":"<p>Any <code>x86_64</code> or <code>aarch64</code> system should be able to run one of the supported operating systems listed above. ARM CPUs may have a limited selection of supported containers.</p>"},{"location":"introduction/#windows-support","title":"Windows Support","text":"<p>Currently we recommend installing one of the supported platforms above in a VM. In the future we may be able to support the Windows Subsystem for Linux version 2.</p>"},{"location":"introduction/#videos","title":"Videos","text":"<ul> <li>Getting Started</li> <li>Version Control Visualization</li> </ul>"},{"location":"advanced/backups/","title":"Backups","text":""},{"location":"advanced/backups/#this-is-deprecated-and-removed-from-dockstarter-as-of-01012020","title":"THIS IS DEPRECATED AND REMOVED FROM DOCKSTARTER AS OF 01/01/2020","text":""},{"location":"advanced/backups/#creating-backups","title":"Creating backups","text":"<p>DockSTARTer menu has an option for <code>Backup Config</code>, or you can use one of <code>ds -b min</code> / <code>ds -b med</code> / <code>ds -b max</code> to create backups.</p> <p>Min: Backs up your .env file Med: Backs up your .env file and the config folder for any enabled app Max: Backs up your .env file and any config folder found in your DOCKER_VOLUME_CONFIG. Apps will be stopped before running a backup and started after completing a backup.</p> <p>Med and Max also support pre/post commands in between each app (so you could disable uptime monitors for example) Min, Med, and Max support pre/post commands for the entire run. These commands can be set in <code>.env</code></p>"},{"location":"advanced/backups/#scheduling-backups","title":"Scheduling backups","text":"<p>It is recommended to setup a cron job using <code>sudo crontab -e</code> and adding a line like</p> <pre><code>0 2 * * * /home/&lt;USER&gt;/.dockstarter/main.sh -b min\n</code></pre> <p>or</p> <pre><code>0 2 * * * /home/&lt;USER&gt;/.dockstarter/main.sh -b med\n</code></pre> <p>or</p> <pre><code>0 2 * * * /home/&lt;USER&gt;/.dockstarter/main.sh -b max\n</code></pre> <p>Which would make a daily backup at 2 AM.</p>"},{"location":"advanced/backups/#backup-retention","title":"Backup retention","text":"<p>The snapshot backup is created into <code>${BACKUP_CONFDIR}/&lt;appname&gt;.001</code>. If the folder <code>&lt;appname&gt;.001</code> exists already it is rotated to <code>&lt;appname&gt;.002</code> and so on, up to <code>&lt;appname&gt;.512</code> by default (this can be adjusted), thereafter it is removed. So if you create one backup per night, for example with a cronjob, then this retention policy gives you 512 days of retention. This is useful but this can require to much disk space, that is why we have included a non-linear distribution policy. In short, we keep only the oldest backup in the range 257-512, and also in the range 129-256, and so on. This exponential distribution in time of the backups retains more backups in the short term and less in the long term; it keeps only 10 or 11 backups but spans a retention of 257-512 days. In the following table you can see on each column the different steps of the rotation, where each column shows the current set of snapshots (limited from <code>&lt;appname&gt;.1</code> to <code>&lt;appname&gt;.16</code> in this example):</p> <pre><code>1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1\n2   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2   2\n    3       3       3       3       3       3       3       3\n4       4       4       4       4       4       4       4       4\n    5               5               5               5\n        6               6               6               6\n            7               7               7               7\n8               8               8               8               8\n    9                               9\n        10                              10\n            11                              11\n                12                              12\n                    13                              13\n                        14                              14\n                            15                              15\n16                              16                              16\n</code></pre> <p>To save more disk space, <code>rsync</code> will make hard links for each file of <code>&lt;appname&gt;.001</code> that already existed in <code>&lt;appname&gt;.002</code> with identical content, timestamps and ownerships.</p>"},{"location":"advanced/backups/#deleting-backups","title":"Deleting backups","text":"<p>Backups created by DockSTARTer will be protected with a special attribute called <code>immutable</code> that makes the backups read only to all users including root. This is done to protect your backups from accidental deletion. Backups will be rotated through retention as described above because the backup script handles the immutable attribute. If you need to delete a backup manually you will first need to remove the immutable attribute from the folder using <code>sudo chattr -R -i /path/to/backup/&lt;appname&gt;.###</code></p>"},{"location":"advanced/backups/#credits","title":"Credits","text":"<p>The backup function is strongly borrowed from http://www.pointsoftware.ch/en/howto-local-and-remote-snapshot-backup-using-rsync-with-hard-links/ which has sections explaining how the <code>rsync</code> process works, including information about hard links (backups don't take up as much space as you think!)</p>"},{"location":"advanced/domain-info/","title":"Domain Info","text":""},{"location":"advanced/domain-info/#using-ddclient-with-ddns-and-google-domains-and-others","title":"Using ddclient with DDNS and Google Domains (and others)","text":"<p>Info to come.</p>"},{"location":"advanced/macvlan/","title":"Macvlan Networking","text":"<p>It may help to read the official documentation on Macvlan networks, as well as this tutorial which this page is based on.</p>"},{"location":"advanced/macvlan/#motivation","title":"Motivation","text":"<p>There are a few different types of Docker networks. DockSTARTer by default uses a 'bridge' network, which is a virtual network that provides isolation from other networks, but allows containers to communicate with each other.</p> <p>However, some applications require access to the physical network. Both Home Assistant and Plex need physical network access for discovery (the former will have issues communicating with IoT devices otherwise).</p> <p>One solution might be to use Docker's <code>host</code> network. This however, increases the odds of port conflicts as more containers are added. Docker introduced a Macvlan network for this case which assigns a unique IP and MAC address for attached containers.</p>"},{"location":"advanced/macvlan/#setup","title":"Setup","text":""},{"location":"advanced/macvlan/#on-your-router","title":"On Your Router","text":"<ul> <li> <p>Take note of the IP address of your Docker host and create a DHCP reservation for the IP if there isn't one already.</p> </li> <li> <p>Configure DHCP so it will not assign address in a given range. That range will be occupied by our container's addresses.</p> </li> </ul> <p>The rest of this tutorial assumes addresses above <code>X.X.X.190</code> will be free.</p>"},{"location":"advanced/macvlan/#on-your-docker-host","title":"On Your Docker Host","text":"<ul> <li>Create the macvlan network (see Note 1):</li> </ul> <pre><code>docker network create -d macvlan -o parent=&lt;myinterface&gt; --subnet X.X.X.0/24 --gateway X.X.X.1\n--ip-range X.X.X.192/27 --aux-address 'host=X.X.X.Y' mymacvlan\n</code></pre> <ul> <li><code>&lt;myinterface&gt;</code> is the network interface your device is receiving data from. Run <code>ifconfig</code> for a listing of possible -nterfaces. Ex: <code>eth0</code></li> <li><code>subnet</code> and <code>gateway</code> are specific to your LAN subnet</li> <li><code>ip-range</code> is the range in which Docker will assign IP addresses. This example goes from <code>X.X.X.192</code> to <code>X.X.X.223</code></li> <li> <p><code>X.X.X.Y</code> following <code>host</code> should be the IP address of your Docker host.</p> </li> <li> <p>Add the following to <code>/etc/network/interfaces</code> after replacing information as needed:</p> </li> </ul> <pre><code># Create new macvlan interface on the host\nip link add mymacvlanshim link myinterface type macvlan mode bridge\n# Add the host address and bring up the interface\nip addr add X.X.X.Y/32 dev mymacvlanshim\nip link set mymacvlanshim up\n# Tell our host to use that interface to communicate with containers\nip route add 192.168.86.192/27 dev mymacvlanshim\n</code></pre> <ul> <li>Reboot</li> </ul> <p>Note 1 You may be wondering why we don't create the network in Docker compose. Newer versions of compose have issues with using <code>aux-address</code> and <code>ip-range</code>.</p>"},{"location":"advanced/macvlan/#in-your-dockstarter-overrides","title":"In Your DockSTARTer Overrides","text":"<p>We could connect our containers to <code>mymacvlan</code> and call it a day, but it's very useful to reserve IPs for each container so we can reach web endpoints in a consistent way.</p> <ul> <li>Add something similar to this to your <code>docker-compose.override.yml</code> file for each container:</li> </ul> <pre><code>services:\n  watchtower:\n    networks:\n      composemacvlan:\n        ipv4_address: X.X.X.201\nnetworks:\n  composemacvlan:\n    external:\n      name: mymacvlan\n</code></pre> <p>The <code>ipv4</code> address should fall in the range you reserved.   Unfortunately, it's necessary to do this when adding new containers if you want them on the same network.</p> <p>After this, you should be able to compose (<code>ds -c</code>) and have a new shiny macvlan network! The containers will be available at the addresses you specified.</p>"},{"location":"advanced/openmediavault/","title":"OpenMediaVault (OMV)","text":"<p>OpenMediaVault (OMV) requires some special setup in order to install DockSTARTer (DS). DS staff have tested and confirmed the following installation method on OMV version 5.5.</p> <p>If you are a Linux newbie, we strongly discourage this approach because of all the issues that might arise with how OMV is built, and troubleshooting issues in OMV can be a pain. However, if you feel comfortable with Linux and want to continue down this route you will need to ensure the following:</p> <ul> <li>You have installed all the necessary updates that are pending in your system.</li> <li>You have set a DNS server in your Web GUI.</li> <li>You have created a user with a home directory outside of the system disk that has <code>sudo</code> and <code>ssh</code> permissions. See below in how to do that.</li> <li>You have a secondary disk other than the system drive mounted and formatted to anything other than NTFS.</li> <li>We recommend you set up a specific \"Shared Folder\" for your home directory. <code>appdata</code> directory should only be used to store container configurations, not home directories.</li> </ul> <p>SSH to your host as root. You will need to edit a system config file in order to avoid issues in the future. Run the following command (you can use your favorite text editor for this portion):</p> <p><code>nano /etc/openmediavault/config.xml</code></p> <p>We are looking for the following line:</p> <p><code>&lt;opts&gt;defaults,nofail,user_xattr,noexec,usrjquota=aquota.user,grpjquota=aquota.group,jqfmt=vfsv0,acl...</code></p> <p>The part you care about is the <code>noexec</code> bit. You will need to remove that string. Save the file and per OMV documentation you need to run <code>omv-salt deploy run fstab</code>. To verify that the <code>noexec</code> flag was removed from your drive run <code>cat /proc/mounts</code> and find your drive on the list. You can also run <code>cat /proc/mounts | grep partial_drive_name</code>. If the <code>noexec</code> flag is present, you skipped a step.</p> <p>We are now going to work on creating the directories for DS to use. You will need to create 4 shared folders and allow \"Everyone read/write\". The 4 directories will be called <code>appdata</code>, <code>storage</code>, <code>medialibrary</code> and <code>home</code>.</p> <p>The last directory should be where you store your user directories and you should not be using the system disk for that. If you do not know how to create a user and assign it a home directory; look up the OMV documentation as that is outside of the scope of this guide.</p> <p>Once the above requirements have been met, you will need to SSH to your OMV host using the account you created. First make sure your home directory was set up correctly by typing <code>cd ~</code>. This shouldn't return an error, if it does read over the OMV documentation in how to properly create a user with a home directory. If no error occurs, run the following commands:</p> <p><code>sudo apt-get install curl git</code> <code>bash -c \"$(curl -fsSL https://get.dockstarter.com)\"</code> <code>sudo reboot</code></p> <p>After the reboot is complete, SSH back to your host using your user account and run <code>ds</code>, type your password and select \"Configuration\". Select \"Set Global Variables\" and select \"No\" on the next prompt. The only thing we recommend changing is the <code>PGID</code> to <code>Use System 100</code>. On the next screen, please take note of the path that starts with <code>/srv/dev-disk-by-label-XXX</code>. You are going to want to remember this path to set your <code>appdata</code>, <code>storage</code>, <code>media</code> and <code>downloads</code> folder to that path, for instance: <code>/srv/dev-disk-by-label-DS/appdata/</code>, <code>/srv/dev-disk-by-label-DS/media/movies</code>, etc.</p>"},{"location":"advanced/smb-mounting/","title":"SMB Mounting","text":""},{"location":"advanced/smb-mounting/#linux-host","title":"Linux Host","text":"<p>Create a file called <code>.credentials</code> or the like in your home folder. In this folder, you're going to put this:</p> <pre><code>username=&lt;username to access resource&gt;\npassword=&lt;password to access resource&gt;\n</code></pre> <p>substitute your own variables of course.</p> <p>From here, you're going to want to install cifs-utils: <code>sudo apt-get install cifs-utils</code></p> <p>Then once that's done, you should be able to mount your SMB/Windows Share like so:</p> <pre><code>sudo mount -t cifs //&lt;host&gt;/Downloads /mnt/downloads -o uid=1000,gid=1000,credentials=/home/&lt;your home user&gt;/.credentials,rw,vers=3.0\n</code></pre> <p>And to make sure that sticks, you're going to put this entry in your <code>/etc/fstab</code> file (You'll probably want to put it at the bottom) to match: <code>//&lt;host&gt;/Downloads /mnt/downloads cifs uid=1000,gid=1000,credentials=/home/&lt;your home user&gt;/.credentials,rw,vers=3.0</code></p> <p>You should be able to reboot to test the mount, but you should now be able to <code>ls -al /mnt/Downloads</code> (in my example) and see the files in your Shared Downloads folder!</p>"},{"location":"advanced/smb-mounting/#oplock-issues","title":"OpLock issues","text":"<p>If you have containers that lock the drive and fail to unlock, you can deny the granting of opportunistic locks by setting the following registry entry:</p> <pre><code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\mrxsmb\nHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\mrxsmb20\nEnableOplocks REG_DWORD 0\n</code></pre>"},{"location":"advanced/smb-mounting/#windows-host","title":"Windows Host","text":"<p><code>net use Z: \\\\host\\Downloads</code></p>"},{"location":"advanced/technical-info/","title":"Technical Info","text":""},{"location":"advanced/technical-info/#how-does-dockstarter-work","title":"How Does DockSTARTer Work","text":"<p>DockSTARTer works by generating the configuration that Compose uses. A linux \"pro\" might use Compose to do what DockSTARTer does themselves but it would still take a lot longer.</p> <p>Compose is a tool for defining and running multi-container Docker applications. To learn more about Compose refer to the following documentation.</p> <p>Compose works by reading YAML (*.yml) configuration files with the paths, ports and parameters each Container should run with.</p>"},{"location":"advanced/technical-info/#yml-files","title":"YML Files","text":"<ul> <li>DO NOT EDIT THESE FILES DIRECTLY. Overriding these settings is easy but you must create a new file first. See the Overrides / Introduction page.</li> </ul> <p>YML files are akin to XML files and below is an example:</p> <pre><code>services:\n  sonarr:\n    container_name: ${SONARR__CONTAINER_NAME?}\n    env_file: .env.app.sonarr\n    environment:\n      - PGID=${PGID?}\n      - PUID=${PUID?}\n      - TZ=${TZ?}\n    restart: ${SONARR__RESTART?}\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG?}/sonarr:/config\n      - ${DOCKER_VOLUME_STORAGE?}:/storage\n</code></pre> <p>In the example above,</p> <p>image is the Container that you're using but also the quasi URL Docker will attempt to pull it from.</p> <p>container_name is the human readable name Docker will use to describe it.</p>"},{"location":"advanced/technical-info/#variables","title":"Variables","text":""},{"location":"advanced/technical-info/#env_file","title":"env_file","text":"<p>All variables contained in the file listed here will be loaded for the application.  Each application could have any number of variables listed, or none.  You can edit the values of the included variables in the file. You can also add any variables you need to add yourself to this file, and they will also be loaded.</p>"},{"location":"advanced/technical-info/#environment","title":"environment","text":"<p>This section contains a list of variables added for the application.  They are generally set to values of variables contained in the global <code>.env</code> file.</p>"},{"location":"advanced/technical-info/#volumes","title":"Volumes","text":"<p>During the Getting Started section, you set volumes for your configuration, download and media etc in the<code>GLOBAL</code> section.</p> <p>The path to Sonarr's config in the above example, broken up, is <code>${DOCKER_VOLUME_CONFIG}/sonarr</code> then the deliminator <code>:</code> followed by <code>/config</code></p> <p><code>${DOCKER_VOLUME_CONFIG}/sonarr</code> is the path on your computer that Sonarr will see when it looks in <code>/config</code>. In this way, all your Containers will have their own private folder in your global config mount.</p> <p>The <code>${DOCKER_VOLUME_STORAGE}</code> location is public to all apps that need it. That means Sonarr will be writing and reading from the same <code>${DOCKER_VOLUME_STORAGE}:/storage</code> mounts as Radarr, SickBeard etc AND your download clients.</p> <p>Again, do not edit the default YML files, instead, see the section on Overrides / Introduction. (Assuming you are reading this page from start to finish for the first time) there is a reason you haven't seen their location yet ;)</p>"},{"location":"advanced/technical-info/#ports","title":"Ports","text":"<p>The ports for access to (and from) your apps are manipulated in your <code>.env</code> settings. I use the Sonarr example a lot but if you're not familiar, it's default port is <code>8989</code>.</p> <p><code>SONARR__PORT_8989=6969</code></p> <p>If you were to edit the <code>.env</code> for sonarr to the above, and run the generator again, you would then access Sonarr at <code>http://app.address:6969/calendar</code> instead of the default port, 8989.</p> <ul> <li>Do not change your apps internal ports unless you know what you are doing. For instance, if you change Sonarr's internal port to 4545, it will still listen on 8989 by default. So then, you won't be able to access the WebGUI and without that, I don't even know where to begin changing the port in Sonarr's config files. And unless you want to run Transmission and RuTorrent side by side, I can't think of a good reason to change them in <code>.env</code> either.</li> </ul>"},{"location":"advanced/uninstall/","title":"Uninstalling","text":"<p>Blurb from our Discord follows:</p> <p>... you can remove everything in <code>~/.dockstarter</code> (or <code>~/docker</code> on older installs)with exception to <code>~/.dockstarter/config</code> (which you may not have if your config is at <code>~/.config/appdata</code>). On older installs of DockSTARTer, you may also have either a <code>~/.dockstarter/compose</code> or <code>~/.docker/compose</code> folder, in which case you'll want to keep the <code>~/.dockstarter/compose/docker-compose.yml</code> and <code>~/.dockstarter/compose/.env</code> to rebuild it using <code>sudo docker-compose</code> and pass the envs. On newer installs, the compose folder is at <code>~/.config/compose</code>.</p> <p>... you should see your containers in <code>docker ps -a</code> or GUI such as Portainer.</p> <p>DS installs everything by running docker compose the way docker recommends, so all DS is really doing is merging a compose file together for you. Once you have the compose file you can remove DS if you like. Also DS itself doesn't do anything on its own, so you could just leave it in place. Keep up with your .env file and your config folder and everything can be done using the official compose commands.</p> <p>Just save any configurations you decide you need to keep, and delete the <code>~/.dockstarter</code> folder. DockSTARTer installs docker using get.docker.com so you can read through that to undo it if you decide you need to. Compose is run via a docker container, so there's nothing to uninstall.</p> <p>Note: The above has been updated and modified with more recent info.</p>"},{"location":"advanced/vpn-info/","title":"VPN Info","text":""},{"location":"advanced/vpn-info/#vpn-services-available-to-use-through-dockstarter","title":"VPN Services available to use through DockSTARTer","text":"<p>VPN use is only available where we have found a easily configured container that runs as its own self contained unit.</p> <ul> <li>Gluetun</li> <li>PrivoxyVPN</li> </ul>"},{"location":"advanced/vpn-info/#vpn-tun-driver","title":"VPN tun driver","text":"<p>The VPN containers require an adjustment to your host system:</p> <pre><code>echo \"iptable_mangle\" | sudo tee /etc/modules-load.d/iptable_mangle.conf\necho \"tun\" | sudo tee /etc/modules-load.d/tun.conf\nsudo reboot\n</code></pre>"},{"location":"advanced/vpn-info/#how-to-check-if-the-vpn-is-working","title":"How to check if the VPN is working","text":"<ul> <li>https://torguard.net/checkmytorrentipaddress.php</li> <li>http://www.doileak.com/</li> <li>http://ipmagnet.services.cbcdn.com/</li> <li>http://test.torrentprivacy.com/</li> </ul>"},{"location":"advanced/vpn-info/#use-a-vpn-for-everything","title":"Use a VPN for everything","text":"<p>If you require VPN on all connections it is recommended to install OpenVPN as you normally would ( in <code>/etc/openvpn</code> etc etc) and then have the Docker service started and stopped by the up / down scripts.</p> <p>You can disable auto starting of the containers by disabling the docker service. An example provided by a user in our community for Ubuntu:</p> <p><code>sudo systemctl disable docker</code></p> <p>vpnup.sh</p> <pre><code>#!/bin/bash\nif [[ -L \"/sbin/init\" ]]; then\n    systemctl start docker\nelse\n    /etc/init.d/docker start\nfi\n</code></pre> <p>vpndown.sh</p> <pre><code>#!/bin/bash\nif [[ -L \"/sbin/init\" ]]; then\n    systemctl stop docker\nelse\n    /etc/init.d/docker stop\nfi\n</code></pre> <p>If you make changes to your <code>.env</code> file you will need to run <code>ds -c</code>. If you stop the OpenVPN service, thereby stopping Docker, DockSTARTER might fail. Start your OpenVPN service and run <code>ds -c</code> again if it didn't work.</p>"},{"location":"basics/available-apps/","title":"Available Apps","text":"<p>Please browse the repo here to see which apps are available: https://github.com/GhostWriters/DockSTARTer/tree/main/.apps</p> <p>If an app folder exists then it is available for x86_64. Inside the folder will be files for aarch64 if supported.</p> <p>You can see descriptions of each app in the GUI or in the labels yml file for each app in the repository.</p>"},{"location":"basics/command-line-usage/","title":"Command Line Usage","text":"<p>Assuming you already followed the installation steps in the readme, there are also a number of command line switches you can use with DockSTARTer.</p>"},{"location":"basics/command-line-usage/#command-line-switches","title":"Command Line Switches","text":""},{"location":"basics/command-line-usage/#run-the-install-script","title":"Run The Install Script","text":"<pre><code>ds -i\n</code></pre> <p>This script does the following:</p> <ul> <li>Updates your system using <code>apt-get</code></li> <li>Installs <code>curl</code>, <code>git</code>, <code>grep</code>, and <code>sed</code> (git should already be installed if you started with the install instructions on the main page, but it's here just in case)</li> <li>Installs docker - by downloading via the official docker-install script, used to run containers</li> </ul> <p>When the script finishes it will display a message informing you to reboot if this is the first time you've ran it.</p>"},{"location":"basics/command-line-usage/#run-the-compose-generator","title":"Run The Compose Generator","text":"<pre><code>ds -c\n</code></pre> <p>This script verifies the dependencies above and installs or updates them as needed, then creates a file <code>~/.config/compose/docker-compose.yml</code> based on the variables you configured in your <code>~/.config/compose/.env</code> file. The generator script will run your selected containers after creating the file. We encourage you to have a look at the generated <code>docker-compose.yml</code> file, however if you wish to make changes please consider using overrides. Please review the Technical Info and Overrides / Introduction pages.</p> <p>Note: On older installs of DockSTARTer, <code>~/.config/compose</code> might be either <code>~/.dockstarter/compose</code> or <code>~/.docker/compose</code>.</p> <p>If you make any changes to your <code>.env</code> file (such as changing a port or enabling a new app) you need to rerun the generator which will rebuild only the affected containers.</p>"},{"location":"basics/command-line-usage/#update-dockstarter","title":"Update DockSTARTer","text":"<pre><code>ds -u\n</code></pre> <p>This should get you the latest changes to DockSTARTer. This will also backup and update your <code>.env</code>, <code>.env.app.&lt;appname&gt;</code> files.</p> <p>You may separately backup and update your <code>.env</code> and <code>.env.app.&lt;appname&gt;</code> files with the following command.</p> <pre><code>ds -e\n</code></pre> <p>Then you may want to edit your <code>.env</code> and <code>.env.app.&lt;appname&gt;</code> files and run the generator again to bring up new apps or changes to existing apps.</p>"},{"location":"basics/command-line-usage/#setup-your-environment","title":"Setup Your Environment","text":"<p>If you do not yet have a <code>~/.config/compose/.env</code> and/or <code>~/.config/compose.env.app.&lt;appname&gt;</code>files:</p> <pre><code>ds -e\n</code></pre> <p>Edit the file using something like <code>nano ~/.config/compose/.env</code> (CTRL+X will prompt to save and exit the nano editor)</p>"},{"location":"basics/command-line-usage/#application-specific-variables","title":"Application Specific Variables","text":""},{"location":"basics/command-line-usage/#adding-apps","title":"Adding Apps","text":"<p>You can add the variables required to run an app by running:</p> <pre><code>ds -a &lt;APPNAME&gt;\n</code></pre> <pre><code>## Example:\nds -a sonarr\n</code></pre> <p>Then your <code>.env</code> file fill have a variable named <code>&lt;APPNAME&gt;__ENABLED</code> that you can set to <code>true</code> and then run the Compose Generator to start the app.</p> <p>You may also need to fill in or adjust any other variables prefixed with the <code>&lt;APPNAME&gt;__</code> that you're enabling.</p> <p>This is the best place to change the app's external default ports.</p> <p>There will also be an application specific variable file created at <code>~/.config/compose/.env.app.&lt;appname&gt;</code>.  This may or may not be populated with variables.  The variables included, if any, will entirely depend on the application installed.  If you need to edit the values of the variables, or include any new variables for the app, it is entirely safe to do so.</p>"},{"location":"basics/command-line-usage/#removing-apps","title":"Removing Apps","text":"<p>You can remove the variables for an app by running:</p> <pre><code>ds -r &lt;APPNAME&gt;\n</code></pre> <pre><code>## Example:\nds -r sonarr\n</code></pre> <p>You can also remove all variables for all apps that are disabled by running:</p> <pre><code>ds -r\n</code></pre> <p>You will be prompted individually for each app and shown what will be removed.</p>"},{"location":"basics/command-line-usage/#cleanup-unused-docker-resources","title":"Cleanup Unused Docker Resources","text":"<pre><code>ds -p\n</code></pre> <p>This cleans up the DS install, <code>p</code> stands for prune in this case. This recovers space from old images if they were somehow left over.</p>"},{"location":"basics/env-var-info/","title":".env Variable Info","text":""},{"location":"basics/env-var-info/#compose_http_timeout","title":"COMPOSE_HTTP_TIMEOUT","text":"<ul> <li>Default value: <code>60</code></li> </ul> <p>Description: See Compose HTTP Timeout This can be increased if you are seeing timeout issues when running compose. It is uncommon to need to adjust this option, but has been seen most commonly on very low powered CPU systems (older raspberry pi) or systems with failing storage (hard drives).</p>"},{"location":"basics/env-var-info/#docker_gid","title":"DOCKER_GID","text":"<ul> <li>System Detected value: The owner of the <code>docker</code> group on your system</li> <li>Default value: <code>999</code></li> </ul> <p>Description: Default ID given to the <code>docker</code> group when it is created by Docker</p>"},{"location":"basics/env-var-info/#docker_hostname","title":"DOCKER_HOSTNAME","text":"<ul> <li>System Detected value: The hostname of your system</li> <li>Default value: <code>DockSTARTer</code> (because we don't want it to be accidentally blank)</li> </ul> <p>Description: All containers have their own <code>&lt;APPNAME&gt;__HOSTNAME</code> they use, but the user can use this variable for their own containers if they choose.</p>"},{"location":"basics/env-var-info/#docker_volume_config","title":"DOCKER_VOLUME_CONFIG","text":"<ul> <li>System Detected value: <code>~/.config/appdata</code></li> <li>Default value: <code>~/.config/appdata</code></li> </ul> <p>Description: This is the directory where all your containers' configuration is saved to.</p>"},{"location":"basics/env-var-info/#docker_volume_storage","title":"DOCKER_VOLUME_STORAGE","text":"<ul> <li>System Detected value: <code>~/storage</code></li> <li>Default value: <code>~/storage</code></li> </ul> <p>Description: This directory will be mounted under <code>/storage</code> inside every container across DS. There is no specific use for this directory, it can be used however you like.</p>"},{"location":"basics/env-var-info/#global_lan_network","title":"GLOBAL_LAN_NETWORK","text":"<ul> <li>System Detected value: Detects your local IP range.</li> <li>Default value: <code>192.168.x.x/24</code></li> </ul> <p>Description: If this value is blank or contains <code>x</code> DockSTARTer will automatically replace it with the System Detected value. Only accepts values in these ranges 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16.</p>"},{"location":"basics/env-var-info/#global_ns1","title":"GLOBAL_NS1","text":"<ul> <li>Default value: <code>1.1.1.1</code></li> </ul> <p>Description: This IP address will be used as a default name server for some installed applications.</p>"},{"location":"basics/env-var-info/#global_ns2","title":"GLOBAL_NS2","text":"<ul> <li>Default value: <code>8.8.8.8</code></li> </ul> <p>Description: This IP address will be used as a default name server for some installed applications.</p>"},{"location":"basics/env-var-info/#pgid","title":"PGID","text":"<ul> <li>System Detected value: Detects the ID of your group</li> <li>Default value: <code>1000</code> because this is the most common default on supported OS</li> </ul> <p>Description: This value can be obtained by using <code>id -g $USER</code>.</p>"},{"location":"basics/env-var-info/#puid","title":"PUID","text":"<ul> <li>System Detected value: Detects the ID of your user</li> <li>Default value: <code>1000</code> because this is the most common default on supported OS</li> </ul> <p>Description: This value can be obtained by using <code>id -u $USER</code>.</p>"},{"location":"basics/env-var-info/#tz","title":"TZ","text":"<ul> <li>System Detected value: Uses the value found in <code>/etc/timezone</code></li> <li>Default value: <code>America/Chicago</code> because that's @nemchik's timezone (CST)</li> </ul> <p>Description: System timezone, see list of TZ Database Time Zones.</p>"},{"location":"basics/env-var-info/#deprecated-vars","title":"DEPRECATED VARS","text":""},{"location":"basics/env-var-info/#dockerlogging_maxfile","title":"DOCKERLOGGING_MAXFILE","text":"<ul> <li>Default value: <code>10</code></li> </ul> <p>Description: The maximum number of log files that can be present. If rolling the logs creates excess files, the oldest file is removed.</p>"},{"location":"basics/env-var-info/#dockerlogging_maxsize","title":"DOCKERLOGGING_MAXSIZE","text":"<ul> <li>Default value: <code>200k</code></li> </ul> <p>Description: The maximum size of the log before it is rotated. Size is specified in kilobytes.</p>"},{"location":"basics/env-var-info/#downloadsdir","title":"DOWNLOADSDIR","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>Default value: <code>/mnt/downloads</code></li> </ul> <p>Description: This directory will be mounted under <code>/downloads</code> inside any container that is used for downloading. Do not use this directory as permanent storage for your media. See below for <code>MEDIADIR</code> directories.</p> <p>NOTE: <code>DOWNLOADSDIR</code> also gets mounted to <code>/data</code> inside some containers because that is what binhex containers use. They will not work as intended otherwise.</p>"},{"location":"basics/env-var-info/#mediadir_audiobooks","title":"MEDIADIR_AUDIOBOOKS","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/Audioooks</code></li> <li>Default value: <code>/mnt/medialibrary/audiobooks</code></li> </ul> <p>Description: This directory will be mounted under <code>/audiobooks</code> inside any container that is used to access your audiobooks library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#mediadir_books","title":"MEDIADIR_BOOKS","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/Books</code></li> <li>Default value: <code>/mnt/medialibrary/books</code></li> </ul> <p>Description: This directory will be mounted under <code>/books</code> inside any container that is used to access your books library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#mediadir_comics","title":"MEDIADIR_COMICS","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/Comics</code></li> <li>Default value: <code>/mnt/medialibrary/comics</code></li> </ul> <p>Description: This directory will be mounted under <code>/comics</code> inside any container that is used to access your comics library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#mediadir_movies","title":"MEDIADIR_MOVIES","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/Movies</code></li> <li>Default value: <code>/mnt/medialibrary/movies</code></li> </ul> <p>Description: This directory will be mounted under <code>/movies</code> inside any container that is used to access your movie library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#mediadir_music","title":"MEDIADIR_MUSIC","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/Music</code></li> <li>Default value: <code>/mnt/medialibrary/music</code></li> </ul> <p>Description: This directory will be mounted under <code>/music</code> inside any container that is used to access your music library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#mediadir_tv","title":"MEDIADIR_TV","text":"<p>DEPRECATION NOTICE: This variable is now deprecated in favor of <code>DOCKER_VOLUME_STORAGE</code> which is mounted as a volume in all containers as <code>/storage</code>. This variable will be completely removed from all DockSTARTer app templates and no longer mounted as a volume at the end of 2020. The variable will not be removed from your <code>.env</code> file, however it will be sorted into the application specific variables at the bottom. If you require the volume you can continue using it via an override.</p> <ul> <li>System Detected value: <code>~/TV</code></li> <li>Default value: <code>/mnt/medialibrary/tv</code></li> </ul> <p>Description: This directory will be mounted under <code>/tv</code> inside any container that is used to access your TV library. This directory is meant to store media permanently.</p>"},{"location":"basics/env-var-info/#vpn_client","title":"VPN_CLIENT","text":"<ul> <li>Default value: <code>openvpn</code></li> </ul> <p>Description: Only accepts <code>openvpn</code> or <code>wireguard</code>.</p>"},{"location":"basics/env-var-info/#vpn_enable","title":"VPN_ENABLE","text":"<ul> <li>Default value: <code>yes</code></li> </ul> <p>Description: Only accepts <code>yes</code> or <code>no</code>. It specifies whether the VPN is enabled or not to be used by VPN enabled containers.</p>"},{"location":"basics/env-var-info/#vpn_options","title":"VPN_OPTIONS","text":"<ul> <li>Default value: Empty</li> </ul> <p>Description:</p>"},{"location":"basics/env-var-info/#vpn_ovpndir","title":"VPN_OVPNDIR","text":"<ul> <li>Default value: <code>~/.config/appdata/.openvpn</code></li> </ul> <p>Description: This directory will be used to store <code>ovpn</code> configurations that will be used by containers that are VPN enabled.</p>"},{"location":"basics/env-var-info/#vpn_pass","title":"VPN_PASS","text":"<ul> <li>Default value: Empty</li> </ul> <p>Description: This is the password you use to login to your VPN provider.</p>"},{"location":"basics/env-var-info/#vpn_prov","title":"VPN_PROV","text":"<ul> <li>Default value: <code>custom</code></li> </ul> <p>Description:</p>"},{"location":"basics/env-var-info/#vpn_user","title":"VPN_USER","text":"<ul> <li>Default value: Empty</li> </ul> <p>Description: This is the username you use to login with to your VPN provider.</p>"},{"location":"basics/env-var-info/#vpn_wgdir","title":"VPN_WGDIR","text":"<ul> <li>Default value: <code>~/.config/appdata/.wireguard</code></li> </ul> <p>Description: This directory will be used to store the <code>wg0.conf</code> file that will be used by containers that are VPN enabled.</p>"},{"location":"basics/faq/","title":"FAQ","text":""},{"location":"basics/faq/#support","title":"Support","text":"<p>Refer to our Support Page for our Support Channels and Tutorials we have found users have made with DockSTARTer!</p>"},{"location":"basics/faq/#relocating-appdata","title":"Relocating <code>appdata</code>","text":"<p>For new installs the default <code>DOCKER_VOLUME_CONFIG</code> is <code>~/.config/appdata</code>. Users who ran DockSTARTer before this location became the default may have <code>~/.dockstarter/config</code>, and we advise relocating.</p> <p>If you'd like to move your existing config to a new location you can do the following: Edit <code>~/.config/compose/.env</code> (in any text editor) and set</p> <pre><code>DOCKER_VOLUME_CONFIG=~/.config/appdata\n</code></pre> <p>(You can choose anywhere to save configs, this example only shows the default location).</p> <p>Then run the following commands:</p> <pre><code>ds -u\nds -c down\n# Move your current config folder to the new location, ex:\nsudo mv ~/.dockstarter/config ~/.config/appdata\nds -c\n</code></pre> <p>That's it! Your containers should fire right back up as if nothing has changed. If you have any issues feel free to ask for help in <code>#ds-support</code></p>"},{"location":"basics/faq/#watchtower-enabled-by-default","title":"Watchtower Enabled By Default","text":"<p>This tool is extremely useful for people getting used to running Docker. Its official documentation should explain why but you can disable it if you want.</p> <p>Watchtower will pull down your new image, gracefully shut down your existing container and restart it with the same options that were used when it was deployed initially.</p> <p>In short, Watchtower keeps your containers up to date.</p>"},{"location":"basics/faq/#watchtower-faq","title":"Watchtower FAQ","text":""},{"location":"basics/faq/#when-i-run-ds-c-and-it-recreates-some-of-the-containers-is-that-because-they-have-had-updates-from-last-run","title":"When I run <code>ds -c</code> and it recreates some of the containers, is that because they have had updates from last run","text":"<p>With Watchtower your containers will be updated to the latest images automatically. However, docker-compose has no idea what's updated, docker-compose keeps track of things independently from Watchtower. Additionally, Watchtower doesn't update docker-compose's method of tracking, therefore, compose might \"recreate\" containers that are already up to date. This is not a big deal it's basically just a container restart, and you were planning on running <code>ds -c</code> expecting some kind of updates anyway.</p>"},{"location":"basics/faq/#general-troubleshooting-help","title":"General troubleshooting help","text":"<p>You can see the (quite helpful) logs of each container with the <code>docker logs &lt;appname&gt;</code> command.</p> <p>Additionally, you can also use Dozzle if you prefer to view logs using your browser.</p>"},{"location":"basics/faq/#reported-issues","title":"Reported Issues","text":""},{"location":"basics/faq/#creating-network-compose_default-with-the-default-driver-error-could-not-find-an-available-non-overlapping-ipv4-address-pool-among-the-defaults-to-assign-to-the-network","title":"Creating network \"compose_default\" with the default driver ERROR: could not find an available, non-overlapping IPv4 address pool among the defaults to assign to the network","text":"<p>This error can occur if your connected to a VPN while setting up the containers. Simply temporarily disconnect your VPN connection until the containers have been created and then reconnect again.</p>"},{"location":"basics/faq/#starting-containers-and-getting-the-following-or-a-similar-error-message-listen-udp-00005353-bind-address-already-in-use","title":"Starting containers and getting the following or a similar error message: \"listen udp 0.0.0.0:5353: bind: address already in use\"","text":"<p>As you could probably guess this means an application (most likely Plex) is trying to use a port that is already in use. You can check which application it is with:</p> <pre><code>sudo lsof -i :&lt;myport&gt;\n</code></pre> <p>So in this example it would be:</p> <pre><code>sudo lsof -i :5353\n</code></pre> <p>which will show you that Google Chrome is using the port you need. In this case you could just close Chrome, but there may be applications you need to uninstall for this to work properly.</p>"},{"location":"basics/migration/","title":"Migration","text":""},{"location":"basics/migration/#from-local-installs","title":"From local installs","text":"<ul> <li>Stop the service for the existing app (so that ports are available)</li> <li>Start the app using DockSTARTer so that the config folder structure is created (<code>~/.config/appdata/&lt;appname&gt;</code> by default)</li> <li>Stop the app's docker container (<code>docker stop &lt;appname&gt;</code>)</li> <li>Locate the config of the local installation and copy it to <code>~/.config/appdata/&lt;appname&gt;</code> (only grab the required files)</li> <li>Start the app (<code>ds -c</code>)</li> <li>Inside the app's config, or settings web interface, adjust the folder locations that make use of files on the disk to match the docker volumes for the container</li> <li>Adjust the app config to communicate with other existing apps (both in and out of docker as needed)</li> <li>Optionally uninstall/remove original app and dependencies</li> </ul>"},{"location":"basics/migration/#from-other-docker-containers","title":"From other Docker containers","text":"<ul> <li>Stop the app's old docker container</li> <li>Start the app using DockSTARTer so that the config folder structure is created (<code>~/.config/appdata/&lt;appname&gt;</code> by default)</li> <li>Stop the app's new docker container (<code>docker stop &lt;appname&gt;</code>)</li> <li>Locate the config of the old docker container and copy it to <code>~/.config/appdata/&lt;appname&gt;</code> (only grab the required files)</li> <li>Start the app (<code>ds -c</code>)</li> <li>Inside the app's config, or settings web interface, adjust the folder locations that make use of files on the disk to match the docker volumes for the new container</li> <li>Adjust the app config to communicate with other existing apps (both in and out of docker as needed)</li> <li>Remove the app's old docker container</li> </ul>"},{"location":"basics/migration/#example","title":"Example","text":"<p>Sonarr's config is commonly found in <code>~/.config/NzbDrone</code>. Following the instructions above, all files in <code>~/.config/NzbDrone</code> would be copied to <code>~/.config/appdata/sonarr</code>. After starting the new Sonarr in Docker, modify the Root Folder settings to tell Sonarr where your files are. DockSTARTer maps the true location of your media folders to locations the container expects to see such as <code>/tv</code> in the case of Sonarr, so that is where you will set your root folder. You will also need to modify your settings that have Sonarr connect to other apps such as Usenet or Torrent download clients. Rather than an IP address or <code>localhost</code> you would just use the name of the download client app, ex: <code>nzbget</code> as the hostname. The same would apply for any connections between any app.</p>"},{"location":"basics/port-conflicts/","title":"Port Conflicts","text":""},{"location":"basics/port-conflicts/#issueproblem","title":"Issue/Problem","text":"<p>During configuration the script exits with an error like the following:</p> <p>ERROR: for plex cannot start service plex: driver failed programming external connectivity on endpoint plex (5a4d78fd5ff6c4c1a978ef31): Error starting userland proxy: listen udp 0.0.0.0:5353: bind: address already in use ERROR: Encountered errors while bringing up the project. 2019-02-13 17:38:19 [FATAL] Docker Compose failed.</p> <p>This is due to another service that has occupied that port disallowing DockSTARTer from installing a service on that port.</p>"},{"location":"basics/port-conflicts/#troubleshooting-methods","title":"Troubleshooting Methods","text":"<p>As DockSTARTer will check and fail if another service is occupying the port, it is necessary to locate and deal with the conflict.</p> <p>One way is to locate the service currently occupying the port. You can do the following:</p> <pre><code># sudo netstat -ltunp | grep -w ':&lt;port&gt;'\n## Example:\nsudo netstat -ltunp | grep -w ':8080'\n</code></pre> <p>Once you locate the offending service then you can choose what to do.</p>"},{"location":"basics/port-conflicts/#resolutionssolutions","title":"Resolutions/Solutions","text":"<p>Example: If you have avahi-daemon installed this will conflict with udp/5353 port usage for iTunes in Plex if selected. This will cause the script to exit with an [ERROR] and a [FATAL].</p> <p>One resolution is to change the port being bound during configuration. During configuration change the external port exposed from 5353 to 5354 (or another unused port). This will resolve the conflict.</p> <p>Another resolution would be to remove the software that is in conflict. Again as the example above. If you are not using mDNS resolution then avahi-daemon would be unnecessary. Simply remove the package with <code>apt remove avahi-daemon</code> from the base server. This will remove the offending service and allow the port to be used by the Docker service.</p>"},{"location":"basics/support/","title":"Support","text":""},{"location":"basics/support/#official-support","title":"Official Support","text":"<p>Click the chat badge to join us on Discord for support!</p> <p>Also check out our subreddit, /r/DockSTARTer</p> <p>Submit a Feature Request</p> <p>Submit a Bug Report</p>"},{"location":"basics/support/#external-information","title":"External Information","text":"<p>Below you will find links to various tutorial videos, blogs, and guides users have made.</p> <ul> <li>DBTech - Raspberry Pi 4: Ultimate Home Server with DockerSTARTer Blog Post &amp; Video Tutorial</li> <li>MakeUseOf.com - How to Set Up a Linux Media Server in Under One Hour Tutorial</li> <li>Borked.io - Docker In Your HomeLab - Getting Started Tutorial</li> <li>Servermania.com - How to Setup and Use a Plex Media Server for Movies and TV Tutorial</li> </ul>"},{"location":"overrides/autoscan/","title":"Autoscan","text":""},{"location":"overrides/autoscan/#description","title":"Description","text":"<p>Autoscan replaces the default Plex and Emby behaviour for picking up changes on the file system.</p>"},{"location":"overrides/autoscan/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/autoscan/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  autoscan:\n    image: cloudb0x/autoscan:latest\n    hostname: ${DOCKER_HOSTNAME}\n    ports:\n      - 3030:3030\n    container_name: autoscan\n    environment:\n      - AUTOSCAN_VERBOSITY=0\n      - PGID=${PGID}\n      - PUID=${PUID}\n      - TZ=${TZ}\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - /mnt/remote:/mnt/remote:ro\n      - /opt/sa:/opt/sa\n      - ${DOCKER_VOLUME_CONFIG}/autoscan:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/bw_plex/","title":"bw_plex","text":""},{"location":"overrides/bw_plex/#description","title":"Description","text":"<p>bw_plex is a tool for skipping intro and outro for plex.</p>"},{"location":"overrides/bw_plex/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/bw_plex/#env-variable","title":"ENV Variable","text":"<p>The bw_plex override uses Variables that you will need to update your <code>.env</code> with the below example.</p> <pre><code>BW_PLEX_TOKEN=your_plex_x_token\nBW_PLEX_URL=http://plex:32400\n</code></pre>"},{"location":"overrides/bw_plex/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  bw_plex:\n    image: hellowlol/bw_plex:latest\n    container_name: bw_plex\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/bw_plex:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n    command: bw_plex --url ${BW_PLEX_URL} -t ${BW_PLEX_TOKEN} -df /config watch\n</code></pre>"},{"location":"overrides/conreq/","title":"Conreq","text":""},{"location":"overrides/conreq/#description","title":"Description","text":"<p>Conreq is a application for managing requests for your media library. It integrates with your existing services such as Sonarr, and Radarr! (Like Ombi)</p>"},{"location":"overrides/conreq/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/conreq/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  conreq:\n    container_name: conreq\n    environment:\n      - PGID=${PGID}\n      - PUID=${PUID}\n      - TZ=${TZ}\n    hostname: ${DOCKER_HOSTNAME}\n    image: ghcr.io/roxedus/conreq:latest\n    ports:\n      - 8000:8000\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/conreq:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/dashmachine/","title":"Dashmachine","text":""},{"location":"overrides/dashmachine/#description","title":"Description","text":"<p>Dashmachine is a web application bookmark dashboard, with fun features.</p>"},{"location":"overrides/dashmachine/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/dashmachine/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  dashmachine:\n    container_name: dashmachine\n    hostname: ${DOCKER_HOSTNAME}\n    image: rmountjoy/dashmachine:latest\n    ports:\n      - 5002:5000\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/dashmachine:/DashMachine/dashmachine/user_data\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/introduction/","title":"Overrides Intro","text":"<p>The YML files included with and generated by DockSTARTer are NOT meant to be modified.</p> <ul> <li>Updating DockSTARTer will overwrite the YML files in <code>~/.config/.apps/</code>.</li> <li>The <code>~/.config/compose/docker-compose.yml</code> file is generated and rewritten by DockSTARTer when you use the Configuration menu or run <code>ds -c</code>.</li> </ul> <p>Note: On older installs of DockSTARTer, <code>~/.config/compose</code> might be either <code>~/.dockstarter/compose</code> or <code>~/.docker/compose</code>.</p> <p>If you would like to make some adjustments, the best way is to use a <code>docker-compose.override.yml</code> file.</p> <p>Docker Compose will look for <code>~/.config/compose/docker-compose.override.yml</code>. Anything you set in this file will be merged in and take priority over the regular configurations.</p>"},{"location":"overrides/introduction/#types-of-overrides","title":"Types of Overrides","text":"<p>You can use overrides to:</p> <ul> <li>Modify an existing app (such as changing which image the app uses)</li> <li>Add an entirely new app that's not included in DockSTARTer</li> </ul>"},{"location":"overrides/introduction/#modify-an-existing-app","title":"Modify an Existing App","text":"<p>The example below will change Sonarr to use hotio's image for Sonarr and add a /media volume. Everything else from the original config, such as the remaining volumes and environment variables, will be preserved and merged with the override config.</p>"},{"location":"overrides/introduction/#partial-override-merge-example","title":"Partial Override Merge Example","text":"<pre><code>services:\n  sonarr:\n    image: ghcr.io/hotio/sonarr:latest\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/sonarr:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/introduction/#add-a-new-app","title":"Add a New App","text":"<p>The example below will use the override file to add an app not included in DockSTARTer. With this approach, you must add all of the Docker Compose YAML configuration required for the app.</p>"},{"location":"overrides/introduction/#full-app-override-example","title":"Full App Override Example","text":"<pre><code>services:\n  alltube:\n    container_name: alltube\n    environment:\n      - PGID=1000\n      - PUID=1000\n    image: rudloff/alltube:latest\n    ports:\n      - \"1234:80\"\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/alltube:/var/www/html/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre> <p>Make sure to run <code>ds -c</code> or <code>ds -c up &lt;appname&gt;</code> after you make changes to your override file.</p>"},{"location":"overrides/nginxproxymanager/","title":"Nginx Proxy Manager","text":""},{"location":"overrides/nginxproxymanager/#description","title":"Description","text":"<p>Nginx Proxy Manager is a Docker container for managing Nginx proxy hosts and SSL Certificates with a simple, powerful interface.</p>"},{"location":"overrides/nginxproxymanager/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/nginxproxymanager/#config-file","title":"Config File","text":"<p>Nginx Proxy Manager requires a Configuration file named <code>config.json</code>. This file needs to be in the appdata folder for NPM before it is started.</p> <pre><code>{\n  \"database\": {\n    \"engine\": \"mysql\",\n    \"host\": \"db\",\n    \"name\": \"npm\",\n    \"user\": \"npm\",\n    \"password\": \"npm\",\n    \"port\": \"3306\"\n  }\n}\n</code></pre>"},{"location":"overrides/nginxproxymanager/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  proxymanager:\n    image: jc21/nginx-proxy-manager:latest\n    container_name: proxymanager\n    ports:\n      - \"80:80\"\n      - \"81:81\"\n      - \"443:443\"\n    restart: unless-stopped\n    volumes:\n      - ${DOCKER_VOLUME_CONFIG}/proxymanager/config.json:/app/config/config.json\n      - ${DOCKER_VOLUME_CONFIG}/proxymanager/data:/data\n      - ${DOCKER_VOLUME_CONFIG}/proxymanager/letsencrypt:/etc/letsencrypt\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/plpp/","title":"PLPP","text":""},{"location":"overrides/plpp/#description","title":"Description","text":"<p>PHP Library Presenter for PLEX provides a PHP front end to simply present PLEX libraries on the web without the possibility to play or download the library items. Currently movie/home video, TV show, music and photo/picture libraries are supported.</p>"},{"location":"overrides/plpp/#installsetup","title":"Install/Setup","text":""},{"location":"overrides/plpp/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  plpp:\n    container_name: plpp\n    environment:\n      - PGID=${PGID}\n      - PUID=${PUID}\n      - TZ=${TZ}\n    hostname: ${DOCKER_HOSTNAME}\n    image: tronyx/docker-plpp:latest\n    ports:\n      - 8383:80\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/plpp:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n</code></pre>"},{"location":"overrides/yacreader/","title":"YACReader Server","text":""},{"location":"overrides/yacreader/#description","title":"Description","text":"<p>YACReader is for Reading, Browsing, And Managing your Digital Comics Collection.</p>"},{"location":"overrides/yacreader/#example-docker-compose-override","title":"Example Docker Compose Override","text":"<pre><code>services:\n  yacreaderlibraryserver:\n    image: muallin/yacreaderlibrary-server-docker:latest\n    container_name: yacreaderlibraryserver\n    restart: unless-stopped\n    volumes:\n      - /etc/localtime:/etc/localtime:ro\n      - ${DOCKER_VOLUME_CONFIG}/yacreaderlibraryserver:/config\n      - ${DOCKER_VOLUME_STORAGE}:/storage\n    ports:\n      - \"8080:8080\"\n</code></pre>"}]}